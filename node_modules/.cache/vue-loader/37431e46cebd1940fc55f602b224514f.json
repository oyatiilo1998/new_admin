{"remainingRequest":"/home/oyatillo/projects_UDEVS/new_admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/oyatillo/projects_UDEVS/new_admin/src/custom/Category/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/oyatillo/projects_UDEVS/new_admin/src/custom/Category/index.vue","mtime":1607234576900},{"path":"/home/oyatillo/projects_UDEVS/new_admin/node_modules/cache-loader/dist/cjs.js","mtime":1591510878407},{"path":"/home/oyatillo/projects_UDEVS/new_admin/node_modules/babel-loader/lib/index.js","mtime":1591510878253},{"path":"/home/oyatillo/projects_UDEVS/new_admin/node_modules/cache-loader/dist/cjs.js","mtime":1591510878407},{"path":"/home/oyatillo/projects_UDEVS/new_admin/node_modules/vue-loader/lib/index.js","mtime":1591510899487}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlOiAnJywKICAgICAgZGF0YTogW10sCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIHNlYXJjaEZvcm06IHsKICAgICAgICBzZWFyY2hLZXk6ICcnCiAgICAgIH0sCiAgICAgIGNvbHVtbnM6IFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogdGhpcy4kdCgndGl0bGUnKSwKICAgICAgICAgIGRhdGFJbmRleDogJ3RpdGxlJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2FjdGlvbicpLAogICAgICAgICAga2V5OiAnYWN0aW9uJywKICAgICAgICAgIHdpZHRoOiAnMjAlJywKICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ2FjdGlvbicgfQogICAgICAgIH0KICAgICAgXSwKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMsIHsgbmFtZTogJ2Nvb3JkaW5hdGVkJyB9KSwKICAgICAgcHJldmlld1Zpc2libGU6IGZhbHNlLAogICAgICBzZWxlY3RlZENhdGVnb3J5OiB7IHRhcmlmZl9kZXRhaWxzOiB7IG5hbWU6ICcnIH0gfSwKICAgICAgcGFyZW50Q2F0ZWdvcnk6ICcnLAogICAgICBmaWx0ZXJQYXJhbXM6IHt9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ2NhdGVnb3JpZXMnLCAncGFnaW5hdGlvbkNhdGVnb3JpZXMnXSksCiAgICBnZXRQYWdpbmF0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFnaW5hdGlvbkNhdGVnb3JpZXMKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5nZXRDYXRlZ29yaWVzKCkudGhlbigoKSA9PiB7CiAgICAgIHRoaXMuc2VhcmNoRm9ybS5zZWFyY2hLZXkgPSB0aGlzLmdldFBhZ2luYXRpb24uc2VhcmNoCiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2F0ZWdvcmllcykKICAgIH0pCiAgfSwKICBiZWZvcmVEZXN0cm95ICgpIHsKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWydnZXRDYXRlZ29yaWVzJ10pLAogICAgaGFuZGxlVGFibGVDaGFuZ2UgKHBhZ2luYXRpb24pIHsKICAgICAgY29uc3QgcGFnaW5hdGlvbk5ldyA9IHsKICAgICAgICAuLi5wYWdpbmF0aW9uLAogICAgICAgIHNlYXJjaDogbnVsbAogICAgICB9CiAgICAgIHRoaXMuZ2V0Q2F0ZWdvcmllcyhwYWdpbmF0aW9uTmV3KQogICAgLnRoZW4oKHJlcykgPT4gY29uc29sZS5sb2cocmVzKSkKICAgIC5jYXRjaChlcnIgPT4gdGhpcy5yZXF1ZXN0RmFpbGVkKGVycikpCiAgICB9LAogICAgZ2V0c2VsZWN0ZWRDYXRlZ29yeSAoc2VsZWN0ZWRDYXRlZ29yeSkgewogICAgICByZXF1ZXN0KHsKICAgICAgICB1cmw6ICcvY2F0ZWdvcmllcy8nICsgc2VsZWN0ZWRDYXRlZ29yeSwKICAgICAgICBtZXRob2Q6ICdnZXQnCiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gcmVzcG9uc2UuY2F0ZWdvcnkKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVDYW5jZWwgKCkgewogICAgICB0aGlzLnByZXZpZXdWaXNpYmxlID0gZmFsc2UKICAgIH0sCiAgICBkZWxldGVDYXRlZ29yeSAoZSwgaWQpIHsKICAgICAgcmVxdWVzdCh7CiAgICAgICAgICAgICAgdXJsOiAnL2NhdGVnb3JpZXMvJyArIGlkLAogICAgICAgICAgICAgIG1ldGhvZDogJ2RlbGV0ZScKICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHRoaXMuJHQoJ3N1Y2Nlc3NmdWxseURlbGV0ZWQnKSkKICAgICAgICAgICAgICB0aGlzLmdldENhdGVnb3JpZXMoKQogICAgICAgICAgfSkudGhlbihlcnIgPT4gewogICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IodGhpcy4kdCgnZXJyb3InKSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/custom/Scoring","sourcesContent":["<template>\n  <div>\n    <a-row>\n      <a-col :span=\"12\">\n        <a-breadcrumb style=\"margin: 10px 5px\">\n          <a-breadcrumb-item>{{ $t('categories') }}</a-breadcrumb-item>\n        </a-breadcrumb>\n      </a-col>\n\n      <a-col :span=\"12\">\n        <router-link v-action:add to=\"././create\">\n          <a-button style=\"float: right\" shape=\"round\" type=\"primary link\" icon=\"plus\">{{ $t('add') }}</a-button>\n        </router-link>\n      </a-col>\n    </a-row>\n\n    <a-card :title=\"$t('list')\">\n      <a-table\n        v-action:get\n        :columns=\"columns\"\n        :rowKey=\"record => record.id\"\n        :dataSource=\"categories\"\n        :pagination=\"getPagination\"\n        :loading=\"loading\"\n        @change=\"handleTableChange\"\n      >\n        <template slot=\"action\" slot-scope=\"text, row\">\n          <!-- <a-tooltip><template slot=\"title\">{{ $t('read') }}</template>\n            <a-button style=\"margin-right: 6px\" id=\"buttonPreview\" type=\"default\" @click=\"showPreviewModal(row.id)\" icon=\"eye\"></a-button>\n          </a-tooltip> -->\n          <router-link v-action:update :to=\"'./update/'+row.slug\" >\n            <a-tooltip><template slot=\"title\">{{ $t('update') }}</template>\n              <a-button style=\"margin-right: 6px\" id=\"buttonUpdate\" type=\"default\" icon=\"edit\"></a-button>\n            </a-tooltip>\n          </router-link>\n          <a-popconfirm\n            v-action:delete\n            placement=\"topRight\"\n            slot=\"extra\"\n            :title=\"$t('deleteMsg')\"\n            @confirm=\"deleteCategory($event, row.slug)\"\n            :okText=\"$t('yes')\"\n            :cancelText=\"$t('no')\"\n          >\n            <a-tooltip><template slot=\"title\">{{ $t('delete') }}</template>\n              <a-button id=\"buttonDelete\" type=\"danger\" icon=\"delete\"></a-button>\n            </a-tooltip>\n          </a-popconfirm>\n        </template>\n      </a-table>\n    </a-card>\n    <a-modal v-model=\"previewVisible\" width=\"800px\" :title=\"$t('previewCategory')\">\n      <a-descriptions layout=\"vertical\" bordered>\n        <a-descriptions-item :label=\"$t('title_uz')\">\n          {{ selectedCategory.title_uz ? selectedCategory.title_uz : '' }}\n        </a-descriptions-item>\n        <a-descriptions-item :label=\"$t('title_ru')\">\n          {{ selectedCategory.title_ru ? selectedCategory.title_ru : '' }}\n        </a-descriptions-item>\n        <a-descriptions-item :label=\"$t('tariff')\">\n          {{ selectedCategory.title_en ? selectedCategory.title_en : '' }}\n        </a-descriptions-item>\n      </a-descriptions>\n      <template slot=\"footer\">\n        <a-button id=\"buttonCancel\" key=\"back\" @click=\"handleCancel\">\n          {{ $t('cancel') }}\n        </a-button>\n      </template>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport request from '@/utils/request'\nexport default {\n  data () {\n    return {\n      value: '',\n      data: [],\n      loading: true,\n      searchForm: {\n        searchKey: ''\n      },\n      columns: [\n        {\n          title: this.$t('title'),\n          dataIndex: 'title'\n        },\n        {\n          title: this.$t('action'),\n          key: 'action',\n          width: '20%',\n          scopedSlots: { customRender: 'action' }\n        }\n      ],\n      form: this.$form.createForm(this, { name: 'coordinated' }),\n      previewVisible: false,\n      selectedCategory: { tariff_details: { name: '' } },\n      parentCategory: '',\n      filterParams: {}\n    }\n  },\n  computed: {\n    ...mapGetters(['categories', 'paginationCategories']),\n    getPagination () {\n      return this.paginationCategories\n    }\n  },\n  mounted () {\n    this.getCategories().then(() => {\n      this.searchForm.searchKey = this.getPagination.search\n      this.loading = false\n      console.log(this.categories)\n    })\n  },\n  beforeDestroy () {\n  },\n  methods: {\n    ...mapActions(['getCategories']),\n    handleTableChange (pagination) {\n      const paginationNew = {\n        ...pagination,\n        search: null\n      }\n      this.getCategories(paginationNew)\n    .then((res) => console.log(res))\n    .catch(err => this.requestFailed(err))\n    },\n    getselectedCategory (selectedCategory) {\n      request({\n        url: '/categories/' + selectedCategory,\n        method: 'get'\n      }).then((response) => {\n        this.selectedCategory = response.category\n      })\n    },\n    handleCancel () {\n      this.previewVisible = false\n    },\n    deleteCategory (e, id) {\n      request({\n              url: '/categories/' + id,\n              method: 'delete'\n          }).then(res => {\n              console.log(res)\n              this.$message.success(this.$t('successfullyDeleted'))\n              this.getCategories()\n          }).then(err => {\n        if (err) {\n          this.$message.error(this.$t('error'))\n        }\n      })\n    }\n  }\n}\n</script>\n"]}]}